<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuva de Emojis com Barra de Amor</title>
    <style>
        body {
            margin: 0;
            /* overflow: hidden; */
            background-color: #1a1a2e;
            text-align: center;
            justify-self: center;
            /* width: 100vw; */
            /* height: 100vh; */
            /* position: fixed; */
        }

        .emoji {
            position: absolute;
            font-size: 2rem;
            opacity: 0.8;
            animation: fall linear infinite;
            cursor: pointer;
            position: fixed;
            z-index: 2;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 1;
            }
        }

        .love-bar-container {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            background-color: #444;
            border-radius: 10px;
            overflow: hidden;
            height: 20px;
            position: fixed;
            z-index: 1;
        }

        .spotfy {
            top: 40px;
            position: relative;
            padding-left    : 2rem;
            padding-right: 2rem;
        }
        
        .love-bar {
            width: 0%;
            height: 100%;
            background-image: linear-gradient(to right, #f0f365, #ff4d6d);
            transition: width 0.3s ease-in-out;
        }

        @media (max-width: 600px) {
            .emoji {
                font-size: 1.5rem;
            }

            .love-bar-container {
                width: 90%;
            }
        }
    </style>
</head>

<body>
    <div class="love-bar-container">
        <div class="love-bar" id="loveBar"></div>
    </div>


    <div class="spotfy">
        <iframe data-v-8eaaeee0="" src="https://open.spotify.com/embed/track/2plbrEY59IikOBgBGLjaoe" width="100%"
            frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
    </div>

    <br><br><br><br><br><br><br><br>w<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>eeee<br><br><br>
    <script>
        const emojis = ['‚ù§Ô∏è', 'üíñ', 'üíò', 'üíù', 'üíï', 'üåπ', '‚ú®'];
        let loveLevel = 0;
        let exploded = false;
        let normalRain = true;

        function createEmoji() {
            if (!normalRain) return;

            const emoji = document.createElement('div');
            emoji.classList.add('emoji');
            emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            document.body.appendChild(emoji);

            const startX = Math.random() * (window.innerWidth - 40);
            emoji.style.left = `${startX}px`;
            emoji.style.top = `-50px`;

            // Calcular a dura√ß√£o da anima√ß√£o com base na altura da tela
            const screenHeight = window.innerHeight; // Altura da tela
            const animationDuration = (screenHeight / 100) + 1 + Math.random() * 2; // A dura√ß√£o ser√° proporcional √† altura da tela
            emoji.style.animationDuration = `${animationDuration}s`;

            emoji.style.fontSize = `${window.innerWidth < 600 ? 15 + Math.random() * 10 : 20 + Math.random() * 20}px`;

            emoji.addEventListener('click', () => {
                increaseLove();
                emoji.remove();
            });

            setTimeout(() => {
                emoji.remove();
            }, animationDuration * 1000); // Remove o emoji ap√≥s o tempo de anima√ß√£o
        }

        function increaseLove() {
            if (exploded) return;

            if (loveLevel < 100) {
                loveLevel += 5;
                if (loveLevel > 100) loveLevel = 100;
                document.getElementById('loveBar').style.width = `${loveLevel}%`;
            }

            if (loveLevel === 100) {
                explodeLove();
            }
        }

        function explodeLove() {
            exploded = true;
            normalRain = false;
            document.getElementById('loveBar').style.background = '#ff4d6d';
            rainBigHearts();

            setTimeout(() => {
                document.getElementById('loveBar').style.display = 'none';
                loveLevel = 0;
                document.getElementById('loveBar').style.width = '0%';
                document.getElementById('loveBar').style.display = 'block';
                document.getElementById('loveBar').style.background = 'linear-gradient(to right, #ffcc00 , #ff4d6d)';
                exploded = false;
                normalRain = true;
            }, 6000);
        }

        function rainBigHearts() {
            for (let i = 0; i < 70; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('emoji');
                    heart.innerText = 'üíñ';
                    document.body.appendChild(heart);

                    const startX = Math.random() * (window.innerWidth - 40);
                    heart.style.left = `${startX}px`;
                    heart.style.top = `-50px`;

                    // Dura√ß√£o da anima√ß√£o para os cora√ß√µes grandes
                    const animationDuration = (window.innerHeight / 250) + 0 + Math.random() * 3;
                    heart.style.animationDuration = `${animationDuration}s`;

                    heart.style.fontSize = `${window.innerWidth < 600 ? 30 + Math.random() * 15 : 50 + Math.random() * 30}px`;

                    // Impedir sele√ß√£o de texto
                    heart.style.userSelect = 'none';
                    heart.style.pointerEvents = 'none'; // Impede a intera√ß√£o com o mouse (clicar)

                    setTimeout(() => {
                        heart.remove();
                    }, animationDuration * 1000);
                }, i * 100);
            }
        }

        setInterval(createEmoji, 300);
    </script>
</body>

</html>